<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetPal Scheduler</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="scroll-smooth font-sans" style="font-family: 'Bricolage Grotesque', Arial, sans-serif;">

    <!-- Login Button -->
    <div class="fixed top-20 right-12 z-50">
        <button class="bg-blue-500 text-white font-bold py-3 px-6 rounded transition duration-300 hover:bg-blue-600" onclick="openModal('loginModal')" >
            Login
        </button>
    </div>

    <!-- Navigation Bar -->
    <nav class="fixed top-0 w-full bg-gradient-to-r from-blue-500 to-blue-800 text-white flex justify-between items-center px-10 py-4 shadow-lg z-50">
        <div class="text-2xl font-bold">PetPal Scheduler</div>
        <ul class="flex space-x-6">
            <li><a href="#home-index" class="text-lg relative after:block after:content-[''] after:absolute after:w-full after:h-[3px] after:bg-white after:scale-x-0 after:origin-left after:transition-transform after:duration-300 hover:after:scale-x-100 active:font-extrabold" id="home-link">Home</a></li>
            <li><a href="#services-index" class="text-lg relative after:block after:content-[''] after:absolute after:w-full after:h-[3px] after:bg-white after:scale-x-0 after:origin-left after:transition-transform after:duration-300 hover:after:scale-x-100 active:font-extrabold" id="services-link">Services</a></li>
            <li><a href="#about-index" class="text-lg relative after:block after:content-[''] after:absolute after:w-full after:h-[3px] after:bg-white after:scale-x-0 after:origin-left after:transition-transform after:duration-300 hover:after:scale-x-100 active:font-extrabold" id="about-link">About Us</a></li>
            <li><a href="#book-index" class="text-lg relative after:block after:content-[''] after:absolute after:w-full after:h-[3px] after:bg-white after:scale-x-0 after:origin-left after:transition-transform after:duration-300 hover:after:scale-x-100 active:font-extrabold" id="book-link">Book Now</a></li>
        </ul>
    </nav>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const sections = document.querySelectorAll("section");
            const navLinks = document.querySelectorAll("nav ul li a");
        
            function setActiveLink() {
                let scrollPosition = window.scrollY;
        
                sections.forEach((section) => {
                    let sectionTop = section.offsetTop - 100;
                    let sectionHeight = section.clientHeight;
                    let sectionId = section.getAttribute("id");
        
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        navLinks.forEach((link) => {
                            link.classList.remove("font-extrabold");
                            if (link.getAttribute("href") === `#${sectionId}`) {
                                link.classList.add("font-extrabold");
                            }
                        });
                    }
                });
            }
        
            window.addEventListener("scroll", setActiveLink);
            setActiveLink();
        });
    </script>

    <!-- Home Section -->
    <section id="home-index" class="flex flex-col justify-center items-center h-screen px-10 bg-gray-100">
        <div class="max-w-5xl flex items-center gap-12">
            <div class="flex-1 text-left">
                <h1 class="text-6xl font-bold text-gray-800">PetPal Scheduler</h1>
                <p class="text-lg mt-4 text-gray-700">Hassle booking of appointment onsite? Skip the line with PetPal Scheduler now!</p>
                <button onclick="openModal('loginModal')" class="bg-blue-500 text-white font-bold py-3 px-6 mt-6 rounded transition duration-300 hover:bg-blue-600">
                    Book Now
                </button>
            </div>
            <div class="flex-1">
                <img src="./assets/catdog-home.png" alt="Pet Grooming" class="w-96 h-auto">
            </div>
        </div>
    </section>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('signupModal')">&times;</span>
    
            <h3>Welcome to PetPal!</h3>
            <p>Create an account.</p>
    
            <div class="sign-up-form">
                <!-- Personal Information Section -->
                <h4 class="section-title">PERSONAL INFORMATION</h4>
            
                <label for="lastname">Last Name</label>
                <input type="text" id="last_name" placeholder="Last Name" required>
            
                <label for="firstname">First Name</label>
                <input type="text" id="first_name" placeholder="First Name" required>
            
                <br><br> <!-- Space -->
            
                <!-- Account Section -->
                <h4 class="section-title">ACCOUNT</h4>
            
                <label for="email">Email</label>
                <input type="email" id="sign-up-email" placeholder="Enter your email" required>
            
                <label for="password">Password</label>
                <div class="password-field">
                    <input type="password" id="sign-up-password" placeholder="Password" required>
                </div>

                <p style="text-align: center; margin-top: 10px;">
                    Already made an account?
                    <a href="#" style="color: #007bff; text-decoration: none;" onclick="openModal('loginModal')">Log in here.</a>
                </p>
            
                <button type="button" onclick="handleSignup(event)">Sign Up</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
    
    
            <h3>Welcome to PetPal!</h3>
            <p>Please sign in to your account.</p>
    
            <div class="log-in-modal">
                <label for="email">Email</label>
                <input type="email" id="login-email" placeholder="Enter your email" required>
    
                <label style="display: flex; justify-content: space-between; align-items: center;">
                    Password
                    <a href="#" style="font-size: 0.9em; text-decoration: none; color: #007bff;">Forgot password?</a>
                </label>
                <div style="display: flex; align-items: center; position: relative;">
                    <input type="password" id="login-password" placeholder="Enter your password" required style="width: 100%;">
                    <span id="togglePassword" style="position: absolute; right: 10px; cursor: pointer;">üëÅÔ∏è</span>
                </div>
                <div style="display: flex; align-items: center; gap: 5px;">
                    <input type="checkbox" id="rememberMe" style="width: 12px;">
                    <label for="rememberMe" style="margin-bottom: 10px; font-size: 0.9em;">Remember Me</label>
                </div>
    
                <button type="button" onclick="handleLogin(event)" style="margin-top: 15px;">Log In</button>
    
                <p style="text-align: center; margin-top: 10px;">
                    Don't have an account?
                    <a href="#" style="color: #007bff; text-decoration: none;" onclick="openModal('signupModal')">Create an account</a>
                </p>
            </div>
        </div>
    </div>

    <!-- JavaScript for Modal Functionality -->
    <script>

        // Toggle Password Visibility
        document.getElementById("togglePassword").addEventListener("click", function () {
            let passwordInput = document.getElementById("login-password");
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                this.innerText = "üîí"; // Change icon
            } else {
                passwordInput.type = "password";
                this.innerText = "üëÅÔ∏è"; // Change back
            }
        });

        // Remember Me Function
        document.addEventListener("DOMContentLoaded", function () {
            if (localStorage.getItem("rememberMe") === "true") {
                document.getElementById("login-email").value = localStorage.getItem("email") || "";
                document.getElementById("login-password").value = localStorage.getItem("password") || "";
                document.getElementById("rememberMe").checked = true;
            }
        });

        function openModal(modalId) {
            closeAllModals(); // Close all modals before opening the new modal
            let modal = document.getElementById(modalId);
            modal.style.display = 'flex'; // Display flex ensures centering
        }

        function closeModal(modalId) {
            let modal = document.getElementById(modalId);
            modal.style.display = 'none';
            resetModal(modalId);
        }

        function closeAllModals() {
            let modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                modal.style.display = 'none';
            });
        }

        function resetModal(modalId) {
            if (modalId === "loginModal") {
                document.getElementById("login-email").value = "";
                document.getElementById("login-password").value = "";
                document.getElementById("rememberMe").checked = false;
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            let modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        };
    </script>

    <!-- CSS for Modals -->
    <style>
        /* Modal Styles */
        .modal {
            display: none; /* Ensures modals are hidden on refresh */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);

            /* Centering */
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            width: 350px;
            position: relative; /* Allows positioning of close button */
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        }

        h3 {
            font-size: 3vh;
            margin-bottom: 5px;
        }

        h4 {
            margin-bottom: 5px;
        }

        .section-title {
            font-weight: bold;
            margin-top: 10px;
        }


        .close {
            position: absolute;
            right: 15px;
            top: 10px;
            font-size: 20px;
            cursor: pointer;
        }

        .btn-modal {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .btn-modal:hover {
            background: #0056b3;
        }

        input {
            width: 100%;
            margin: 10px 0;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        label {
            display: block;
            margin-top: 10px;
        }

        .password-field {
            display: flex;
            align-items: center;
            position: relative;
        }

        .password-field input {
            width: 100%;
            padding-right: 30px;
        }

        .toggle-password {
            position: absolute;
            right: 10px;
            cursor: pointer;
        }

        button {
            width: 100%;
            padding: 10px;
            background: #166396;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background: #218838;
        }
    </style>

    <!-- Services Section -->
    <section id="services-index" class="flex flex-col justify-center items-center h-screen bg-gray-200 px-10">
        <h2 class="text-5xl font-bold text-gray-800">Our Services</h2>
        <div class="flex gap-16 mt-10">
            <div class="relative w-64 h-96 overflow-hidden rounded-lg shadow-lg">
                <img src="../public/assets/service1.jpg" alt="Grooming Service" class="w-full h-full object-cover transition-transform duration-300 hover:scale-105">
                <div class="absolute bottom-5 left-1/2 transform -translate-x-1/2 text-white font-bold text-xl bg-black bg-opacity-50 px-4 py-2 rounded">
                    Grooming
                </div>
            </div>
            <div class="relative w-64 h-96 overflow-hidden rounded-lg shadow-lg">
                <img src="../public/assets/service2.jpg" alt="Veterinary Check-up" class="w-full h-full object-cover transition-transform duration-300 hover:scale-105">
                <div class="absolute bottom-5 left-1/2 transform -translate-x-1/2 text-white font-bold text-xl bg-black bg-opacity-50 px-4 py-2 rounded">
                    Veterinary Check-up
                </div>
            </div>
            <div class="relative w-64 h-96 overflow-hidden rounded-lg shadow-lg">
                <img src="../public/assets/service3.jpg" alt="Pet Training" class="w-full h-full object-cover transition-transform duration-300 hover:scale-105">
                <div class="absolute bottom-5 left-1/2 transform -translate-x-1/2 text-white font-bold text-xl bg-black bg-opacity-50 px-4 py-2 rounded">
                    Pet Training
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about-index" class="flex flex-col justify-center items-center h-screen bg-gray-300 px-10">
        <h2 class="text-5xl font-bold text-gray-800">About Us</h2>
        <p class="text-lg mt-6 text-center max-w-2xl text-gray-700">
            We provide professional pet grooming, veterinary check-ups, and training services to ensure the best care for your furry friends.
        </p>
    </section>

    <!-- Booking Section -->
    <section id="book-index" class="flex flex-col justify-center items-center h-screen bg-gray-400 px-10">
        <h2 class="text-5xl font-bold text-gray-800">Book an Appointment</h2>
        <p class="text-lg mt-6 text-center max-w-2xl text-gray-700">
            Schedule your pet‚Äôs next appointment with ease.
        </p>
    </section>

     <!-- Script Supabase -->
     <script type="module" src="./js/signUp.js"></script>
     <script type="module" src="./js/login.js"></script>

</body>
</html>